<!doctype html>
<html lang="en"> 
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>StarShell Wallet developer sample page</title>

	<script type="module" >
		// import grpc from 'grpc-web';

		import {credentials} from '@grpc/grpc-js';
		import {grpc} from '@improbable-eng/grpc-web';
		import { cosmos_bank_v1beta1_query } from '@solar-republic/cosmos-grpc';


		// const yq_balance = new cosmos_bank_v1beta1_query.QueryBalanceRequest({
		// 	address: 'secret1ax',
		// 	denom: 'scrt',
		// });

		// grpc.unary(cosmos_bank_v1beta1_query.QueryBalanceRequest, {
		// 	request: yq_balance,
		// })

		const p_grpcweb = 'http://grpcbin.pulsar.scrttestnet.com:9099';

		const y_client = new cosmos_bank_v1beta1_query.QueryClient(p_grpcweb, credentials.createInsecure());

		const yy_balance = new cosmos_bank_v1beta1_query.QueryBalanceRequest({
			address: 'secret1',
			denom: 'scrt',
		});

		y_client.Balance(yy_balance, (e_query, y_res) => {
			debugger;

			if(e_query) {
				console.error('Error: %o', e_query);
			}
			else {
				console.log(y_res);
			}
		});

		// const y_creds = new grpc.ChannelCredentials();
		// const y_client = new cosmos_bank_v1beta1_query.QueryClient('tcp://', y_creds);

		// y_client.Balance(new cosmo);

		// grpc.GrpcWebClientBase

		// grpc.unary
	</script>
</head>
<body style="background-color: #212121; color: #f7f7f7;">
</body>
</html>
